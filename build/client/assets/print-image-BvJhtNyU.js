import{w as d,a as f,r as o,j as e}from"./chunk-JMJ3UQ3L-BilMNg9t.js";import{B as c}from"./button-BzO9OnCD.js";import{I as u}from"./input-DZoGg-Zj.js";import"./utils-CDN07tui.js";import"./index-DkYg50eK.js";const y=d(function(){const a=f(),r=o.useRef(null),m=o.useCallback(t=>{if(t.preventDefault(),r.current?.files?.[0]){const s=new FormData;s.append("image",r.current.files[0]),a.submit(s,{method:"post",action:"/actions/print-image",encType:"multipart/form-data"})}},[a]),l=o.useCallback(async()=>{try{const t=await navigator.clipboard.read();for(const s of t)for(const i of s.types)if(i.startsWith("image/")){const p=await s.getType(i),n=new FormData;n.append("image",p,"clipboard-image.png"),a.submit(n,{method:"post",action:"/actions/print-image",encType:"multipart/form-data"});return}alert("No image found in clipboard")}catch(t){console.error("Failed to read clipboard contents: ",t)}},[a]);return e.jsxs("div",{className:"mx-auto max-w-[720px] p-4",children:[e.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Print Image"}),e.jsx("form",{onSubmit:m,className:"space-y-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{type:"file",name:"image",accept:"image/*",required:!0,className:"grow",ref:r}),e.jsx(c,{type:"submit",children:"Print Image"})]})}),e.jsx(c,{onClick:l,className:"mt-4 w-full",children:"Print Clipboard Image"}),a.data?.success&&e.jsx("p",{className:"mt-4 text-green-600",children:a.data.message}),a.data?.success===!1&&e.jsxs("p",{className:"mt-4 text-red-600",children:["Error: ",a.data.message]})]})});export{y as default};
